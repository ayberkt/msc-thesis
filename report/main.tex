\input{/home/ayberkt/academic/thesis/report/template/template}
\usepackage{agda}

\usepackage{ebproof}
\usepackage{tikz-cd}
\usepackage{forest}

\tikzcdset{
  arrow style=tikz,
  diagrams={>={Straight Barb[scale=0.8]}}
}

\title{Formal Topology in Univalent Foundations}
\multilinetitle{Formal Topology\\ in Univalent Foundations}
\author{Ayberk Tosun}

\supervisor{Thierry Coquand}
\departmentofsupervisor{Computer Science and Engineering}

\examiner{Nils Anders Danielsson}
\departmentofexaminer{Computer Science and Engineering}

\division{Logic and Types}

\keywords{
  topology, formal topology, pointless topology, formal space, locale, locale theory,
  frame, homotopy type theory, univalence, univalent foundations
}

%% \newcommand{\omitagdainappendix}{}

\definecolor{darkgreen}{rgb}{0,0.45,0}
\definecolor{darkred}{rgb}{0.45,0,0}
\definecolor{hottviolet}{rgb}{0.45,0,0.45}
\definecolor{hottblue}{rgb}{0,0.45,0.45}

\hypersetup{
  linktoc    = page,
  colorlinks = true,
  linkcolor  = darkgreen,
  citecolor  = hottblue,
  urlcolor   = hottviolet
}

\newtheorem{ax}{Axiom}
\newtheorem*{agdanotation}{Remark on \veragda{} notation}
\theoremstyle{definition}

\appto{\bibsetup}{\hyphenation{Sp-ring-er}}

\DeclareBibliographyAlias{software}{online}
\DeclareBibliographyAlias{letter}{misc}

\newcommand{\reals}{\mathbb{R}}
\newcommand{\nats}{\mathbb{N}}
\newcommand{\bool}{\mathsf{Bool}}
\newcommand{\ball}[2]{\mathsf{B}(#1, #2)}
\newcommand{\neighbourhood}[1]{\mathbf{N}(#1)}

\newcommand{\libcub}{\texttt{cubical}}

\newcommand{\oftyI}[2]{#1\hspace{0.1mm}:\hspace{0.1mm}#2}
\newcommand{\oftyII}[3]{#1, #2:#3}
\newcommand{\refl}{\mathsf{refl}}
\newcommand{\zero}{\mathsf{zero}}
\newcommand{\sucnm}{\mathsf{suc}}
\newcommand{\suc}[1]{\sucnm{}\left(#1\right)}

\newcommand{\fiber}[2]{\hyperref[defn:fiber]{ \mathsf{fiber} }\left(#1, #2\right)}
\newcommand{\isequiv}[1]{\hyperref[defn:equiv]{\mathsf{isEquiv}}\left(#1\right)}
\newcommand{\idtoeqvnm}{\hyperref[defn:id-to-equiv]{\mathsf{idToEquiv}}}
\newcommand{\idtoeqv}[2]{\idtoeqvnm{}\left(#1, #2\right)}
\newcommand{\idequivnm}{\hyperref[defn:id-equiv]{\mathsf{idEqv}}}
\newcommand{\idequiv}[1]{\idequivnm{}\left(#1\right)}
\newcommand{\isdec}[1]{\hyperref[defn:decidable]{\mathsf{isDecidable}}\left(#1\right)}
\newcommand{\isdisc}[1]{\hyperref[defn:discrete]{\mathsf{isDiscrete}}\left(#1\right)}
\newcommand{\typequiv}[2]{#1 \hyperref[defn:equiv]{\simeq} #2}
\newcommand{\istypiso}[1]{\hyperref[defn:type-iso]{\mathsf{isIso}}\left(#1\right)}
\newcommand{\typiso}[2]{#1 \hyperref[defn:type-iso]{\cong} #2}
\DeclareMathOperator{\logequivnm}{\hyperref[defn:iff]{\leftrightarrow}}
\newcommand{\logequiv}[2]{#1 \logequivnm{} #2}
\newcommand{\exteq}[2]{#1 \hyperref[defn:exteq]{\sim} #2}
\newcommand{\idfn}[1]{\mathsf{id}_{#1}}

\newcommand{\fincovernm}{\hyperref[defn:fin-cover]{\mathsf{down}}}
\newcommand{\fincover}[1]{\fincovernm{}\left(#1\right)}
\newcommand{\iscompact}[1]{\hyperref[defn:compact]{\mathsf{isCompact}}\left(#1\right)}

\newcommand{\unitty}{\mathsf{Unit}}
\newcommand{\unittm}{\rulename{\star}}

%% Homotopy levels.
\newcommand{\iscontrnm}{\hyperref[defn:contr]{\mathsf{isContr}}}
\newcommand{\iscontr}[1]{\iscontrnm{}\left(#1\right)}
\newcommand{\isprop}[1]{\hyperref[defn:hprop]{\mathsf{isProp}}\left(#1\right)}
\newcommand{\isset}[1]{\hyperref[defn:hset]{\mathsf{isSet}}\left(#1\right)}
\newcommand{\isofhlevel}[2]{%
  \hyperref[defn:hlevel]{\mathsf{isOfHLevel}}\left(#1, #2\right)
}

\newcommand{\intersectnm}{\hyperref[defn:intersection]{\cap}}
\newcommand{\capp}{\hyperref[defn:intersection]{\cap}}
\newcommand{\intersect}[2]{#1 \intersectnm{} #2}

\newcommand{\formssns}[1]{\mathsf{SNS}\left(#1\right)}

\newcommand{\pity}[3]{\prod_{(#1~:~#2)} #3}
\newcommand{\sigmaty}[3]{\sum_{(#1~:~#2)} #3}
\newcommand{\univ}{\mathcal{U}}
\newcommand{\isaprop}[1]{\hyperref[defn:hprop]{\mathsf{isProp}}\left(#1\right)}
\newcommand{\hprop}{\hyperref[defn:omega]{Ω}}
\newcommand{\isaset}[1]{\mathsf{IsSet}\left(#1\right)}
\newcommand{\abs}[1]{\left| #1 \right|}
\newcommand{\trunc}[1]{\left\| #1 \right\|}
\newcommand{\pownm}{\hyperref[defn:pow]{\mathcal{P}}}
\newcommand{\pow}[1]{\pownm{}\left(#1\right)}
\newcommand{\sub}[2]{\hyperref[defn:fam]{\mathsf{Fam}}_{#1}\left(#2\right)}
\newcommand{\indexnm}{\mathsf{index}}
\newcommand{\indexset}[1]{\indexnm{}\left(#1\right)}
\newcommand{\pair}[2]{\langle #1 , #2 \rangle}

\newcommand{\listtynm}{\mathsf{List}}
\newcommand{\listty}[1]{\listtynm{}\left(#1\right)}
\DeclareMathOperator{\cons}{\text{\texttt{∷}}}
\newcommand{\bitlist}{\mathbb{B}}
\newcommand{\singleton}[1]{%
  \hyperref[defn:list]{\text{\texttt{[}}}~#1~\hyperref[defn:list]{\text{\texttt{]}}}
}
\newcommand{\singletoncons}[1]{%
  \text{\texttt{[}}~#1~\text{\texttt{]}}
}
\newcommand{\bitI}{\mathbf{1}}
\newcommand{\bitO}{\mathbf{0}}
\newcommand{\emptylist}{\rulename{\text{\texttt{[]}}}}
\newcommand{\emptyconslist}{\textnormal{\texttt{[]}}}
\DeclareMathOperator{\snocnm}{\rulename{\frown}}
\newcommand{\snoc}[2]{#1 \snocnm{} #2}
\newcommand{\cantoris}{\hyperref[defn:cantor-is]{\mathcal{C}}}

\newcommand{\subsetofnm}{\hyperref[defn:inclusion]{\subseteq}}
\newcommand{\subsetof}[2]{#1 \subsetofnm{} #2}

\newcommand{\isdcnm}{\hyperref[defn:dc-subset]{\mathsf{isDownwardsClosed}}}
\newcommand{\isdc}[1]{\isdcnm{}\left(#1\right)}
\newcommand{\dcsubsetnm}{\hyperref[defn:dc-subset]{\mathsf{DCSubset}}}
\newcommand{\dcsubset}[1]{\dcsubsetnm{}\left(#1\right)}
\newcommand{\dcframe}[1]{#1\hyperref[thm:down-set-frame]{\downarrow}}

\newcommand{\ordernm}{\hyperref[defn:poset]{\mathsf{Order}}}
\newcommand{\order}[2]{\ordernm{}_{#1}\left(#2\right)}

\newcommand{\posetstrnm}{\hyperref[defn:poset]{\mathsf{PosetStr}}}
\newcommand{\posetstr}[2]{\posetstrnm{}_{#1}\left(#2\right)}

\DeclareMathOperator{\memfamnm}{\hyperref[defn:fam-mem]{\in}}
\newcommand{\memfam}[2]{#1 \memfamnm #2}

\DeclareMathOperator{\mempownm}{\hyperref[defn:pow]{\in}}
\newcommand{\mempow}[2]{#1 \mempownm #2}

\DeclareMathOperator{\concat}{\hyperref[defn:concat]{\textnormal{\texttt{++}}}}
\DeclareMathOperator{\append}{\textnormal{\texttt{++}}}

\newcommand{\posetaxnm}{\hyperref[defn:poset]{\mathsf{PosetAx}}}
\newcommand{\posetax}[1]{\posetaxnm{}\left(#1\right)}

\newcommand{\poset}{\hyperref[defn:poset]{\mathsf{Poset}}}

\newcommand{\posof}[1]{\mathsf{pos}\left(#1\right)}

\newcommand{\ismonotonicnm}{\hyperref[defn:mono]{\mathsf{isMonotonic}}}
\newcommand{\ismonotonic}[1]{\ismonotonicnm{}\left(#1\right)}
\DeclareMathOperator{\mononm}{\hyperref[defn:mono-map]{\rightarrow_m}}
\newcommand{\mono}[2]{#1 \mononm{} #2}

\newcommand{\isframehomonm}{\hyperref[defn:frame-homo]{\mathsf{isFrameHomo}}}
\newcommand{\isframehomo}[1]{\isframehomonm{}\left(#1\right)}

\DeclareMathOperator{\framehomonm}{\hyperref[defn:frame-homo]{\rightarrow_f}}
\newcommand{\framehomo}[2]{#1 \framehomonm{} #2}

\newcommand{\hasmononm}{\hyperref[defn:mono]{\mathsf{hasMono}}}
\newcommand{\hasmono}[1]{\hasmononm{}\left(#1\right)}
\newcommand{\hassim}[1]{\hyperref[defn:sim]{\mathsf{hasSim}}\left(#1\right)}

\DeclareMathOperator{\posetisonm}{\hyperref[defn:poset-iso]{\cong_p}}
\newcommand{\posetiso}[2]{#1 \posetisonm{} #2}

\DeclareMathOperator{\posetequivnm}{\hyperref[defn:poset-equiv]{\simeq_p}}
\newcommand{\posetequiv}[2]{#1 \posetequivnm{}  #2}

\DeclareMathOperator{\frameequivnm}{\hyperref[defn:frame-equiv]{\simeq_f}}

\newcommand{\frameequiv}[2]{#1 \frameequivnm{} #2}

\DeclareMathOperator{\frameisonm}{\hyperref[defn:frame-iso]{\cong_f}}
\newcommand{\frameiso}[2]{#1 \frameisonm{} #2}

\newcommand{\invequiv}[1]{\hyperref[prop:iso-equiv-equiv]{\mathsf{inv}}\left(#1\right)}

\newcommand{\vermono}{monotonicity}
\newcommand{\versim}{simulation}
\newcommand{\vernucleus}{\hyperref[defn:nucleus]{nucleus}}
\newcommand{\verframe}{\hyperref[defn:frame]{frame}}
\newcommand{\verposet}{\hyperref[defn:poset]{poset}}
\newcommand{\verintrsys}{\hyperref[defn:intr-sys]{interaction system}}
\newcommand{\veragda}{\textsc{Agda}}
\newcommand{\verbool}{boolean}

\newcommand{\modname}[1]{{\color{AgdaModule} \texttt{#1}}}
\newcommand{\fnname}[1]{{\color{AgdaFunction} \texttt{#1}}}

\newcommand{\rulename}[1]{{\color{darkred} \mathsf{#1}}}
\newcommand{\ruledir}{{\color{darkred} \mathsf{dir}}}
\newcommand{\rulebranch}{{\color{darkred} \mathsf{branch}}}
\newcommand{\rulesquash}{{\color{darkred} \mathsf{squash}}}

\newcommand{\fix}[2]{\hyperref[thm:fixed-point-frame]{\mathsf{fix}}\left(#1, #2\right)}

\newcommand{\isflat}[1]{\hyperref[defn:flat]{\mathsf{isFlat}}\left(#1\right)}

\newcommand{\framestrnm}{\hyperref[defn:frame]{\mathsf{FrameStr}}}
\newcommand{\framestr}[1]{\framestrnm{}\left(#1\right)}
\newcommand{\frameaxnm}{\hyperref[defn:frame]{\mathsf{FrameAx}}}
\newcommand{\frameax}[1]{\frameaxnm{}\left(#1\right)}
\newcommand{\framenm}{\hyperref[defn:frame]{\mathsf{Frame}}}
\newcommand{\framety}[3]{\framenm{}_{#1, #2, #3}}

\newcommand{\treestrnm}{\hyperref[defn:intr-sys]{\mathsf{IntrStr}}}
\newcommand{\treestr}[1]{\treestrnm{}\left(#1\right)}
\newcommand{\intrsys}{\hyperref[defn:intr-sys]{\mathsf{IntrSys}}}

\newcommand{\stumpnm}{\mathsf{Stump}}
\newcommand{\stump}[1]{\stumpnm\left(#1\right)}

\newcommand{\refines}[2]{#1~\mathcal{R}~#2}

\newcommand{\disciplinestrnm}{\mathsf{DisciplineStr}}
\newcommand{\disciplinestr}[1]{\disciplinestrnm{}\left(#1\right)}

\newcommand{\rawframestrnm}{\hyperref[defn:frame]{\mathsf{RawFrameStr}}}
\newcommand{\rawframestr}[3]{\rawframestrnm{}_{#1, #2}\left(#3\right)}

\newcommand{\isnuclearnm}{\hyperref[defn:nucleus]{\mathsf{isNuclear}}}
\newcommand{\isnuclear}[1]{\isnuclearnm{}\left(#1\right)}
\newcommand{\nucleus}{\hyperref[defn:nucleus]{\mathsf{Nucleus}}}

\newcommand{\meet}[2]{#1 \wedge #2}
\newcommand{\joinnm}{\bigvee}
\newcommand{\join}[3]{\joinnm{}_{#1~:~#2} #3}

\newcommand{\RHD}{\scalebox{1.2}{{\tt ▶}}}
\DeclareMathOperator{\covernm}{\scalebox{1.2}{{\tt ◀}}}
\newcommand{\covers}[2]{#1 \covernm{} #2}

\newcommand{\setof}[1]{\left\{ #1 \right\}}
\newcommand{\img}[2]{\setof{ #1\left( a \right) ~|~ \mempow{a}{#2} }}

\newcommand{\formaltopo}{\hyperref[defn:formal-topo]{\mathsf{FT}}}

\newcommand{\lifta}[1]{#1{\scriptstyle \downarrow}}

\newcommand{\representsnm}{\hyperref[defn:rep]{\mathsf{represents}}}
\newcommand{\represents}[3]{\representsnm{}\left(#1, #2, #3\right)}

\newcommand{\entire}[1]{\hyperref[defn:entire-subset]{\top}_{#1}}

\newcommand{\bF}{\mathbf{F}}
\newcommand{\bG}{\mathbf{G}}
\newcommand{\McF}{\mathcal{F}}
\newcommand{\MfU}{\mathfrak{U}}

\newcommand{\is}{:\equiv}
\newcommand{\idnm}{~=~}

%% Names.
\newcommand{\UF}{Univalent Foundations}

%% \newcommand{\paragraphsummary}[1]{{\color{orange} \textsc{#1}}}
\newcommand{\paragraphsummary}[1]{}

%% \setmainfont{XITS}
%% \setmathfont{XITS Math}
\setmonofont[Scale=0.85]{PragmataPro Mono Liga}

\raggedbottom

\begin{document}

\maketitlepage{}

\begin{abstract}
  Formal topology is a mathematical discipline that aims to interpret topology in
  type-theoretical terms, that is, constructively \emph{and} predicatively. Type theory
  has recently undergone a transformation~\cite{hottbook} through insights arising from
  its association with homotopy theory, resulting in the formulation of the notion of
  a \emph{univalent} type theory, and more broadly, a univalent foundation.

  We investigate, in this thesis, the natural continuation of the line of work on formal
  topology into univalent type theory. We first recapitulate our finding that a naive
  approach to formal topology in univalent type theory is problematic, and then present a
  solution to this problem that involves the use of higher inductive types. We hence
  sketch the beginnings of an approach towards developing formal topology in univalent
  type theory. As a proof of concept for this approach, we develop the formal topology of
  the Cantor space and construct a proof that it is compact.

  The development that we present has been carried out using the cubical extension of
  the \veragda{} proof assistant~\cite{cubical-agda}. No postulates have been used and the
  development typechecks with the \texttt{--safe} flag of \veragda{}. The presentation in
  this thesis amounts to an informalisation of this formal development.
\end{abstract}

\begin{acknowledgements}
  I would like to start by thanking my supervisor Thierry Coquand for all his efforts that
  have made this thesis possible. He has not only suggested the topic of this thesis,
  closely supported all my work, and patiently answered my (at times never-ending)
  questions, but he has also inspired and shaped much of my thought on type theory through
  various lectures and discussions, some in the context of the \emph{Types for Programs
  and Proofs} course he co-taught in Fall 2018. In fact, this course has been the most
  important course I have taken at Chalmers so I would like to thank all of its teaching
  staff: Peter Dybjer, Andrea Vezzosi, and Fabian Ruch. Furthermore, I would like to thank
  Nils Anders Danielsson, both for serving as the examiner of this thesis and teaching an
  excellent course on models of computation.

  Throughout the two years I have spent at Chalmers, I have had the opportunity to engage
  with the lively type theory community of Gothenburg, most importantly through
  the \emph{Initial Types Club} (ITC). ITC has provided a conducive environment for many
  interesting discussions---every Thursday---from which I have greatly benefited. I would like
  to therefore thank all ITC regulars for these meetings, but especially Andreas Abel,
  Jesper Cockx, Carlos Tomé Cortiñas, Nachiappan Valiappan, and Sandro Stucki for
  undertaking the organisational efforts required to keep ITC going.

  I would like to thank my friends Joel Sjögren, Warrick Macmillan, Alexander Fuhs, Stefan
  Ljung\-strand, Robert Krook, and Benjamin Lim for helpful advice and various discussions
  on logic, types, categories, and much more. I would also like to thank Joel Sjögren for
  accepting to serve as an opponent for this thesis. Joomy Korkut deserves special mention
  for getting me interested in \veragda{} in the first place: thank you Joomy for
  effectively starting the chain of events that ended up with me moving to Sweden in
  pursuit of type theory enlightenment.

  Of course, everything I have done has been possible thanks to the support of my parents
  to whom I am and will always be grateful.

  Finally, I would like to thank the Adlerbert Foundation for funding my studies at
  Chalmers through the Adlerbert Study Scholarship.
\end{acknowledgements}

\makelists{}

\input{introduction}

\input{foundations}

\input{frames}

\input{formal-topology}

\input{cantor}

\input{conclusion}

\makebackmatter{}

\ifdefined\omitagdainappendix
  Omitting Agda code.
\else
\input{agda-formalisation}
\fi

\end{document}
